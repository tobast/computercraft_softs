<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>[Lua] [energy_monitor] controller - Pastebin.com</title>
		<link rel="shortcut icon" href="/favicon.ico" />
<link href="/cache/css/lua.css" rel="stylesheet" type="text/css" />		<link href="/i/main_master.css" rel="stylesheet" type="text/css" />
				
		<script type="text/javascript" src="/js/jquery.js"></script>
		<script type="text/javascript" src="/js/main_v1.js"></script>
		<meta property="fb:app_id" content="231493360234820" />
		<meta property="og:title" content="[Lua] [energy_monitor] controller - Pastebin.com" />
		<meta property="og:type" content="article" />
	    <meta property="og:url" content="http://pastebin.com/zLnQrcKH" />
	    <meta property="og:image" content="http://pastebin.com/i/fb2.jpg" />
	    <meta property="og:site_name" content="Pastebin" />
		<meta name="google-site-verification" content="jkUAIOE8owUXu8UXIhRLB9oHJsWBfOgJbZzncqHoF4A" />
		<link rel="canonical" href="http://pastebin.com/zLnQrcKH" />
				<meta name="viewport" content="width=device-width">
		<!--[if SafMob]>
			<style>body{-webkit-text-size-adjust:none;}</style>
		<![endif]-->
		<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		
		  ga('create', 'UA-58643-34', 'auto');
	 	  ga('require', 'displayfeatures');
		  ga('send', 'pageview');
		
		</script>
		<script type="text/javascript">
		 if (top != self) 
		 top.location.href = location.href;
		 </script>
	</head>
	<body>
	<div id="super_frame">
		<div id="logo" onclick="location.href='/'" title="Create New Paste"></div>
		<div id="header">
			<div id="header_top">
				<span class="span_left more">PASTEBIN</span><span class="span_left less"> &nbsp;|&nbsp; #1 paste tool since 2002</span><span class="min_max_span narrow_it" title="Change layout width"></span><span class="min_max_span wide_it" style="display:none" title="Change layout width"></span>				<ul class="top_menu">
					<li class="no_border_li"><a href="/" accesskey="n">create new paste</a></li><li><a href="/tools">tools</a></li><li><a href="/api">api</a></li><li><a href="/archive">archive</a></li><li><a href="/faq">faq</a></li>
				</ul>
			</div>
			<div id="header_middle">
				<span class="span_left big"><a href="/">PASTEBIN</a></span> 
				<a href="http://twitter.com/pastebin" target="_blank"><img src="/i/t.gif" alt="" class="i_tf" width="122" height="20" border="0" /></a>	<iframe src="//www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.facebook.com%2Fpastebin&amp;send=false&amp;layout=button_count&amp;width=100&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font=segoe+ui&amp;height=21&amp;appId=231493360234820" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:100px; height:21px;margin:13px 0 0 10px;vertical-align:top" allowTransparency="true"></iframe>
				<div id="header_middle_search">
					<form class="search_form" name="search_form" method="get" action="/search" id="cse-search-box">
					    <input type="hidden" name="cx" value="013305635491195529773:0ufpuq-fpt0" />
					    <input type="hidden" name="cof" value="FORID:10" />
					    <input type="hidden" name="ie" value="UTF-8" />
						<input class="search_input" type="text" name="q" size="5" value="" placeholder="search..." x-webkit-speech/><input name="sa" class="search_button" src="/i/t.gif" alt="Search..." type="image" value="Search" />
					</form>
				</div>					
			</div>
			<div id="header_bottom">
				<div class="div_top_menu">
					<img src="/i/t.gif" class="i_n" width="16" height="16" alt="" border="0" /> <a href="/">create new paste</a> 
					&nbsp;&nbsp;&nbsp; <img src="/i/t.gif" class="i_t" width="16" height="16" alt="" border="0" /> <a href="/trends">trending pastes</a>
				</div>
				<ul class="top_menu">
					<li class="no_border_li"><a href="/signup">sign up</a></li><li><a href="/login">login</a></li><li><a href="/alerts">my alerts</a></li><li><a href="/settings">my settings</a></li><li><a href="/profile">my profile</a></li>				</ul>		
			</div>			
		</div>

			<div class="frame_spacer"><!-- --></div>
			<div style="height:35px;line-height:35px;font-size:0.85em;"><img src="/i/tip.png" width="16" height="16" style="vertical-align:middle;margin:-6px 0 0 2px" alt="" /> ** <b>Pastebin PRO Accounts Spring Special</b> ** Get <b>40% discount</b> for a limited time only! <a href="/pro?coupon=spring2015"><b>Click Here</b></a> to check it out ;-)<span style="float:right;text-align:right;">Want more features on Pastebin? <a href="/signup"><b>Sign Up</b></a>, it's FREE!</span></div>
		<div class="frame_spacer"><!-- --></div>
		<div id="monster_frame">
			<div id="content_frame">
				<div id="content_right">
										<div class="content_right_menu">
									<div class="content_right_title"><a href="/archive">Public Pastes</a></div>	
									<div id="menu_2">
										<ul class="right_menu"><li><a href="/bqH07PpL">Untitled</a><span>15 sec ago</span></li><li><a href="/uJr8tvCt">Untitled</a><span>6 sec ago</span></li><li><a href="/Xwb7b588">Untitled</a><span>14 sec ago</span></li><li><a href="/yApC4bsJ">Untitled</a><span>Latex | 14 sec ago</span></li><li><a href="/aY03yUch">Untitled</a><span>27 sec ago</span></li><li><a href="/y332Gcwd">Untitled</a><span>32 sec ago</span></li><li><a href="/E5c1AjX5">Untitled</a><span>C++ | 35 sec ago</span></li><li><a href="/gaXeYJBG">Untitled</a><span>47 sec ago</span></li></ul></div></div>					
			<div style="padding: 0; width:160px;margin: 10px 0;clear:left;">
				<script type="text/javascript"><!--
					e9 = new Object();
				    e9.size = "160x600,120x600";
				//--></script>
				<script type="text/javascript" src="http://tags.expo9.exponential.com/tags/Pastebincom/Safe/tags.js"></script>
			</div>					<div id="steadfast" title="Pastebin is proudly hosted by Steadfast.net" onclick="location.href='http://steadfast.net/?utm_source=pastebin.com&utm_medium=referral&utm_content=hosting_by_banner&utm_campaign=referral_20140118_x_x_pastebin_partner&source=referral_20140118_x_x_pastebin_partner'"></div>
				</div>
				<div id="content_left">

	<div class="paste_box_frame">
		<div class="tweet">


			<div onclick="facebookpopup('/zLnQrcKH'); return false;" id="b_facebook2"><span id="b_facebook"></span></div>
			<div onclick="twitpopup('/zLnQrcKH'); return false;" id="b_twitter2"><span id="b_twitter"></span></div>

		</div>
		<div class="paste_box_icon">
			<a href="/u/tobast"><img src="/cache/img/25/20/5/29819.jpg" class="i_gb" width="50" height="50" alt="" border="0" /></a>	
		</div>
		<div class="paste_box_info">
			<div class="paste_box_line1" title="[energy_monitor] controller"><img src="/i/t.gif"  class="i_p0" width="16" height="16" title="Public paste, everybody can see this paste." alt=""  border="0" /><h1>[energy_monitor] controller</h1> </div>
			<div class="paste_box_line2">By: <a href="/u/tobast">tobast</a>  <a href="/message_compose?to=tobast" title="Send a private message to: tobast"><img src="/i/t.gif" class="i_pm" alt="" border="0" /></a> on <span title="Friday 27th of June 2014 08:20:07 AM CDT" style="cursor:help;border-bottom: 1px dotted;">Jun 27th, 2014</span> &nbsp;|&nbsp; syntax: <a href="/archive/lua">Lua</a> &nbsp;|&nbsp; size: 3.40 KB &nbsp;|&nbsp; views: <span title="Number of unique visitors to this paste" style="cursor:help;border-bottom: 1px dotted;">165</span> &nbsp;|&nbsp; expires: Never</div>
			<div class="paste_box_line3"><a href="/download.php?i=zLnQrcKH" rel="nofollow">download</a> &nbsp;|&nbsp; <a href="/raw.php?i=zLnQrcKH" target="_blank" rel="nofollow">raw</a> &nbsp;|&nbsp; <a href="/embed.php?i=zLnQrcKH" rel="nofollow">embed</a> &nbsp;|&nbsp; <a href="/report.php?i=zLnQrcKH" rel="nofollow">report abuse</a> &nbsp;|&nbsp; <a href="/print.php?i=zLnQrcKH" rel="nofollow">print</a></div>
		</div>
	</div>
	
			<div class="banner_728">
				<script type="text/javascript"><!--
					e9 = new Object();
				    e9.size = "970x250,728x90";
				//--></script>
				<script type="text/javascript" src="http://tags.expo9.exponential.com/tags/Pastebincom/Safe/tags.js"></script>
				<div id="5e2e4b27a0" class="pagefair-acceptable"></div>
			</div>
			<div class="layout_clear"></div><div id="code_frame2">
	<div id="code_frame">
		<div id="code_buttons">
		
		<a href="javascript:togglev();" title="Show/Hide line numbers"><img src="/i/t.gif" border="0" alt="" class="i16 line" /></a> 
		<a href="javascript:togglew('lua');" title="Toggle text wrapping"><img src="/i/t.gif" border="0" alt="" class="i16 wrap" /></a> 
		<a href="#" class="copyme" onclick="selectText('selectable');showdiv('copied');" title="Copy text to clipboard"><img src="/i/t.gif" border="0" alt="" class="i16 clipboard" /></a> <span id="copied">Text below is selected. Please press Ctrl+C to copy to your clipboard. (&#8984;+C on Mac)</span>

		</div>
		<div id="selectable">		
		<div class="lua"><ol><li class="li1"><div class="de1"><span class="co1">-- Controls the APCs through network</span></div></li>
<li class="li2"><div class="de2">&nbsp;</div></li>
<li class="li1"><div class="de1"><span class="co1">------------------- CONFIGURATION ------------------------</span></div></li>
<li class="li2"><div class="de2">MODEM_SIDE <span class="sy0">=</span> <span class="st0">'back'</span></div></li>
<li class="li1"><div class="de1">MONITOR_SIDE <span class="sy0">=</span> <span class="st0">'left'</span></div></li>
<li class="li2"><div class="de2">REFRESH_RATE <span class="sy0">=</span> <span class="nu0">10</span> <span class="co1">-- in seconds</span></div></li>
<li class="li1"><div class="de1"><span class="co1">------------------- END CONFIG ---------------------------</span></div></li>
<li class="li2"><div class="de2">&nbsp;</div></li>
<li class="li1"><div class="de1"><span class="kw3">os</span><span class="sy0">.</span>loadAPI<span class="br0">&#40;</span><span class="st0">'/lib/slot_sig'</span><span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2"><span class="kw3">os</span><span class="sy0">.</span>loadAPI<span class="br0">&#40;</span><span class="st0">'/lib/button'</span><span class="br0">&#41;</span></div></li>
<li class="li1"><div class="de1">&nbsp;</div></li>
<li class="li2"><div class="de2">apcList <span class="sy0">=</span> <span class="br0">&#123;</span><span class="br0">&#125;</span></div></li>
<li class="li1"><div class="de1">idPosition <span class="sy0">=</span> <span class="br0">&#123;</span><span class="br0">&#125;</span></div></li>
<li class="li2"><div class="de2">buttons <span class="sy0">=</span> <span class="br0">&#123;</span><span class="br0">&#125;</span></div></li>
<li class="li1"><div class="de1">nextTimer <span class="sy0">=</span> <span class="kw4">nil</span></div></li>
<li class="li2"><div class="de2">&nbsp;</div></li>
<li class="li1"><div class="de1">STATE_ON <span class="sy0">=</span> <span class="nu0">0</span></div></li>
<li class="li2"><div class="de2">STATE_OFF <span class="sy0">=</span> <span class="nu0">1</span></div></li>
<li class="li1"><div class="de1">STATE_FORCEOFF <span class="sy0">=</span> <span class="nu0">2</span></div></li>
<li class="li2"><div class="de2">STATE_BTN <span class="sy0">=</span> <span class="br0">&#123;</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span> <span class="sy0">=</span> <span class="br0">&#123;</span>text <span class="sy0">=</span> <span class="st0">'ON '</span><span class="sy0">,</span> color <span class="sy0">=</span> colors<span class="sy0">.</span>lime<span class="br0">&#125;</span><span class="sy0">,</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span> <span class="sy0">=</span> <span class="br0">&#123;</span>text <span class="sy0">=</span> <span class="st0">'OFF'</span><span class="sy0">,</span> color <span class="sy0">=</span> colors<span class="sy0">.</span>orange<span class="br0">&#125;</span><span class="sy0">,</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span> <span class="sy0">=</span> <span class="br0">&#123;</span>text <span class="sy0">=</span> <span class="st0">'OFF'</span><span class="sy0">,</span> color <span class="sy0">=</span> colors<span class="sy0">.</span>red<span class="br0">&#125;</span></div></li>
<li class="li2"><div class="de2"><span class="br0">&#125;</span></div></li>
<li class="li1"><div class="de1">&nbsp;</div></li>
<li class="li2"><div class="de2"><span class="kw1">function</span> onRednet<span class="br0">&#40;</span>data<span class="br0">&#41;</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; sender <span class="sy0">=</span> data<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; message <span class="sy0">=</span> data<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span></div></li>
<li class="li1"><div class="de1">&nbsp;</div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span><span class="br0">&#40;</span>message<span class="sy0">.</span><span class="kw3">type</span> <span class="sy0">==</span> <span class="st0">'EU_levels'</span><span class="br0">&#41;</span> <span class="kw1">then</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; displayUpdate<span class="br0">&#40;</span>sender<span class="sy0">,</span>message<span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span></div></li>
<li class="li1"><div class="de1"><span class="kw1">end</span></div></li>
<li class="li2"><div class="de2">&nbsp;</div></li>
<li class="li1"><div class="de1"><span class="kw1">function</span> onTimer<span class="br0">&#40;</span>data<span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; id<span class="sy0">=</span>data<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span><span class="br0">&#40;</span>id <span class="sy0">~=</span> nextTimer<span class="br0">&#41;</span> <span class="kw1">then</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; </div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; updateData<span class="br0">&#40;</span><span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp;</div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; nextTimer <span class="sy0">=</span> <span class="kw3">os</span><span class="sy0">.</span>startTimer<span class="br0">&#40;</span>REFRESH_RATE<span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2"><span class="kw1">end</span></div></li>
<li class="li1"><div class="de1">&nbsp;</div></li>
<li class="li2"><div class="de2"><span class="kw1">function</span> formatPercent<span class="br0">&#40;</span>perc<span class="br0">&#41;</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span><span class="br0">&#40;</span>perc <span class="sy0">&gt;=</span> <span class="nu0">100</span><span class="br0">&#41;</span> <span class="kw1">then</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> <span class="st0">'100%'</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">else</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> perc<span class="sy0">..</span><span class="st0">'%'</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span></div></li>
<li class="li2"><div class="de2"><span class="kw1">end</span></div></li>
<li class="li1"><div class="de1"><span class="kw1">function</span> displayUpdate<span class="br0">&#40;</span>sender<span class="sy0">,</span>data<span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; mon <span class="sy0">=</span> peripheral<span class="sy0">.</span>wrap<span class="br0">&#40;</span>MONITOR_SIDE<span class="br0">&#41;</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; pos <span class="sy0">=</span> idPosition<span class="br0">&#91;</span>sender<span class="br0">&#93;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; </div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; mon<span class="sy0">.</span>setCursorPos<span class="br0">&#40;</span>pos<span class="sy0">.</span>x<span class="sy0">,</span>pos<span class="sy0">.</span>y<span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; mon<span class="sy0">.</span>setTextColor<span class="br0">&#40;</span>colors<span class="sy0">.</span>lightBlue<span class="br0">&#41;</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; mon<span class="sy0">.</span><span class="kw3">write</span><span class="br0">&#40;</span>data<span class="sy0">.</span>area<span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; mon<span class="sy0">.</span>setTextColor<span class="br0">&#40;</span>colors<span class="sy0">.</span>white<span class="br0">&#41;</span></div></li>
<li class="li1"><div class="de1">&nbsp;</div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; mon<span class="sy0">.</span>setCursorPos<span class="br0">&#40;</span>pos<span class="sy0">.</span>x<span class="sy0">+</span><span class="nu0">1</span><span class="sy0">,</span> pos<span class="sy0">.</span>y<span class="sy0">+</span><span class="nu0">1</span><span class="br0">&#41;</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; mon<span class="sy0">.</span><span class="kw3">write</span><span class="br0">&#40;</span><span class="st0">'Lights'</span><span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; mon<span class="sy0">.</span>setCursorPos<span class="br0">&#40;</span>pos<span class="sy0">.</span>x<span class="sy0">+</span><span class="nu0">12</span><span class="sy0">,</span> pos<span class="sy0">.</span>y<span class="sy0">+</span><span class="nu0">1</span><span class="br0">&#41;</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; mon<span class="sy0">.</span><span class="kw3">write</span><span class="br0">&#40;</span>formatPercent<span class="br0">&#40;</span>data<span class="sy0">.</span>lightsPercent<span class="br0">&#41;</span><span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; buttons<span class="br0">&#91;</span>sender<span class="br0">&#93;</span><span class="sy0">.</span>lights<span class="sy0">:</span>setBgColor<span class="br0">&#40;</span>STATE_BTN<span class="br0">&#91;</span>data<span class="sy0">.</span>lightsState<span class="br0">&#93;</span><span class="sy0">.</span>color<span class="br0">&#41;</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; buttons<span class="br0">&#91;</span>sender<span class="br0">&#93;</span><span class="sy0">.</span>lights<span class="sy0">:</span>setText<span class="br0">&#40;</span>STATE_BTN<span class="br0">&#91;</span>data<span class="sy0">.</span>lightsState<span class="br0">&#93;</span><span class="sy0">.</span>text<span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; </div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; mon<span class="sy0">.</span>setCursorPos<span class="br0">&#40;</span>pos<span class="sy0">.</span>x<span class="sy0">+</span><span class="nu0">1</span><span class="sy0">,</span> pos<span class="sy0">.</span>y<span class="sy0">+</span><span class="nu0">2</span><span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; mon<span class="sy0">.</span><span class="kw3">write</span><span class="br0">&#40;</span><span class="st0">'Others'</span><span class="br0">&#41;</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; mon<span class="sy0">.</span>setCursorPos<span class="br0">&#40;</span>pos<span class="sy0">.</span>x<span class="sy0">+</span><span class="nu0">12</span><span class="sy0">,</span> pos<span class="sy0">.</span>y<span class="sy0">+</span><span class="nu0">2</span><span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; mon<span class="sy0">.</span><span class="kw3">write</span><span class="br0">&#40;</span>formatPercent<span class="br0">&#40;</span>data<span class="sy0">.</span>othersPercent<span class="br0">&#41;</span><span class="br0">&#41;</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; buttons<span class="br0">&#91;</span>sender<span class="br0">&#93;</span><span class="sy0">.</span>others<span class="sy0">:</span>setBgColor<span class="br0">&#40;</span>STATE_BTN<span class="br0">&#91;</span>data<span class="sy0">.</span>othersState<span class="br0">&#93;</span><span class="sy0">.</span>color<span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; buttons<span class="br0">&#91;</span>sender<span class="br0">&#93;</span><span class="sy0">.</span>others<span class="sy0">:</span>setText<span class="br0">&#40;</span>STATE_BTN<span class="br0">&#91;</span>data<span class="sy0">.</span>othersState<span class="br0">&#93;</span><span class="sy0">.</span>text<span class="br0">&#41;</span></div></li>
<li class="li1"><div class="de1"><span class="kw1">end</span></div></li>
<li class="li2"><div class="de2">&nbsp;</div></li>
<li class="li1"><div class="de1"><span class="kw1">function</span> updateData<span class="br0">&#40;</span><span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> _<span class="sy0">,</span>id <span class="kw2">in</span> <span class="kw3">pairs</span><span class="br0">&#40;</span>apcList<span class="br0">&#41;</span> <span class="kw1">do</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rednet<span class="sy0">.</span>send<span class="br0">&#40;</span>id<span class="sy0">,</span> <span class="br0">&#123;</span><span class="kw3">type</span> <span class="sy0">=</span> <span class="st0">'levels_query'</span><span class="br0">&#125;</span><span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span></div></li>
<li class="li1"><div class="de1"><span class="kw1">end</span></div></li>
<li class="li2"><div class="de2">&nbsp;</div></li>
<li class="li1"><div class="de1"><span class="kw1">function</span> buttonClicked<span class="br0">&#40;</span>btnType<span class="sy0">,</span>id<span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; curLights <span class="sy0">=</span> <span class="br0">&#40;</span>buttons<span class="br0">&#91;</span>sender<span class="br0">&#93;</span><span class="sy0">.</span>lights<span class="sy0">.</span>text <span class="sy0">==</span> <span class="st0">'ON '</span><span class="br0">&#41;</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; curOthers <span class="sy0">=</span> <span class="br0">&#40;</span>buttons<span class="br0">&#91;</span>sender<span class="br0">&#93;</span><span class="sy0">.</span>others<span class="sy0">.</span>text <span class="sy0">==</span> <span class="st0">'ON '</span><span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp;</div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span><span class="br0">&#40;</span>btnType <span class="sy0">==</span> <span class="st0">'lights'</span><span class="br0">&#41;</span> <span class="kw1">then</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; curLights <span class="sy0">=</span> <span class="kw2">not</span> curLights</div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">else</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; curOthers <span class="sy0">=</span> <span class="kw2">not</span> curOthers</div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span></div></li>
<li class="li2"><div class="de2">&nbsp;</div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; message <span class="sy0">=</span> <span class="br0">&#123;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw3">type</span> <span class="sy0">=</span> <span class="st0">'set_state'</span><span class="sy0">,</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lightsState <span class="sy0">=</span> curLights<span class="sy0">,</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; forceLights <span class="sy0">=</span> <span class="kw4">false</span><span class="sy0">,</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; othersState <span class="sy0">=</span> curOthers<span class="sy0">,</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; forceOthers <span class="sy0">=</span> <span class="kw4">false</span> <span class="br0">&#125;</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; rednet<span class="sy0">.</span>send<span class="br0">&#40;</span>id<span class="sy0">,</span>message<span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; rednet<span class="sy0">.</span>send<span class="br0">&#40;</span>id<span class="sy0">,</span><span class="br0">&#123;</span><span class="kw3">type</span> <span class="sy0">=</span> <span class="st0">'levels_query'</span><span class="br0">&#125;</span><span class="br0">&#41;</span></div></li>
<li class="li1"><div class="de1"><span class="kw1">end</span></div></li>
<li class="li2"><div class="de2">&nbsp;</div></li>
<li class="li1"><div class="de1"><span class="kw1">function</span> mapIDs<span class="br0">&#40;</span><span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; wid<span class="sy0">,</span>hei <span class="sy0">=</span> peripheral<span class="sy0">.</span><span class="kw3">call</span><span class="br0">&#40;</span>MONITOR_SIDE<span class="sy0">,</span><span class="st0">'getSize'</span><span class="br0">&#41;</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; curCol <span class="sy0">=</span> <span class="nu0">1</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; curRow <span class="sy0">=</span> <span class="nu0">1</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> _<span class="sy0">,</span>id <span class="kw2">in</span> <span class="kw3">pairs</span><span class="br0">&#40;</span>apcList<span class="br0">&#41;</span> <span class="kw1">do</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span><span class="br0">&#40;</span>curCol <span class="sy0">&gt;</span> wid<span class="br0">&#41;</span> <span class="kw1">then</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw3">error</span><span class="br0">&#40;</span><span class="st0">'screen is too small'</span><span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span></div></li>
<li class="li1"><div class="de1">&nbsp;</div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; idPosition<span class="br0">&#91;</span>id<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="br0">&#123;</span>x<span class="sy0">=</span>curCol<span class="sy0">,</span> y<span class="sy0">=</span>curRow<span class="br0">&#125;</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; buttons<span class="br0">&#91;</span>id<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="br0">&#123;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lights <span class="sy0">=</span> button<span class="sy0">.</span>Button<span class="br0">&#40;</span>MONITOR_SIDE<span class="sy0">,</span> curCol<span class="sy0">+</span><span class="nu0">8</span><span class="sy0">,</span>curRow<span class="sy0">+</span><span class="nu0">1</span><span class="sy0">,</span><span class="st0">'ON '</span><span class="sy0">,</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">function</span><span class="br0">&#40;</span><span class="br0">&#41;</span> buttonClicked<span class="br0">&#40;</span><span class="st0">'lights'</span><span class="sy0">,</span>id<span class="br0">&#41;</span> <span class="kw1">end</span><span class="sy0">,</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; colors<span class="sy0">.</span>lime<span class="sy0">,</span> colors<span class="sy0">.</span>white<span class="br0">&#41;</span><span class="sy0">,</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; others <span class="sy0">=</span> button<span class="sy0">.</span>Button<span class="br0">&#40;</span>MONITOR_SIDE<span class="sy0">,</span> curCol<span class="sy0">+</span><span class="nu0">8</span><span class="sy0">,</span>curRow<span class="sy0">+</span><span class="nu0">2</span><span class="sy0">,</span><span class="st0">'ON '</span><span class="sy0">,</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">function</span><span class="br0">&#40;</span><span class="br0">&#41;</span> buttonClicked<span class="br0">&#40;</span><span class="st0">'others'</span><span class="sy0">,</span>id<span class="br0">&#41;</span> <span class="kw1">end</span><span class="sy0">,</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; colors<span class="sy0">.</span>lime<span class="sy0">,</span> colors<span class="sy0">.</span>white<span class="br0">&#41;</span> <span class="br0">&#125;</span></div></li>
<li class="li2"><div class="de2">&nbsp;</div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; curRow <span class="sy0">=</span> curRow <span class="sy0">+</span> <span class="nu0">3</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span><span class="br0">&#40;</span>curRow<span class="sy0">+</span><span class="nu0">2</span> <span class="sy0">&gt;</span> hei<span class="br0">&#41;</span> <span class="kw1">then</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; curRow <span class="sy0">=</span> <span class="nu0">1</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; curCol <span class="sy0">=</span> curCol <span class="sy0">+</span> <span class="nu0">18</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">end</span></div></li>
<li class="li1"><div class="de1"><span class="kw1">end</span></div></li>
<li class="li2"><div class="de2">&nbsp;</div></li>
<li class="li1"><div class="de1"><span class="kw1">function</span> initMonitor<span class="br0">&#40;</span><span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; monitor <span class="sy0">=</span> peripheral<span class="sy0">.</span>wrap<span class="br0">&#40;</span>MONITOR_SIDE<span class="br0">&#41;</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; monitor<span class="sy0">.</span>clear<span class="br0">&#40;</span><span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; monitor<span class="sy0">.</span>setTextScale<span class="br0">&#40;</span><span class="nu0">0.5</span><span class="br0">&#41;</span></div></li>
<li class="li1"><div class="de1"><span class="kw1">end</span></div></li>
<li class="li2"><div class="de2"><span class="kw1">function</span> main<span class="br0">&#40;</span><span class="br0">&#41;</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; rednet<span class="sy0">.</span>open<span class="br0">&#40;</span>MODEM_SIDE<span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; rednet<span class="sy0">.</span>host<span class="br0">&#40;</span><span class="st0">'energy_controller'</span><span class="sy0">,</span> <span class="st0">'controller'</span><span class="br0">&#41;</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; </div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; apcList <span class="sy0">=</span> <span class="br0">&#123;</span> rednet<span class="sy0">.</span>lookup<span class="br0">&#40;</span><span class="st0">'apc'</span><span class="br0">&#41;</span> <span class="br0">&#125;</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; mapIDs<span class="br0">&#40;</span><span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp;</div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; initMonitor<span class="br0">&#40;</span><span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp;</div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; slot_sig<span class="sy0">.</span>connectSlot<span class="br0">&#40;</span><span class="st0">'rednet_message'</span><span class="sy0">,</span> onRednet<span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; slot_sig<span class="sy0">.</span>connectSlot<span class="br0">&#40;</span><span class="st0">'timer'</span><span class="sy0">,</span> onTimer<span class="br0">&#41;</span></div></li>
<li class="li1"><div class="de1">&nbsp;</div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; updateData<span class="br0">&#40;</span><span class="br0">&#41;</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; &nbsp; &nbsp; nextTimer <span class="sy0">=</span> <span class="kw3">os</span><span class="sy0">.</span>startTimer<span class="br0">&#40;</span>REFRESH_RATE<span class="br0">&#41;</span></div></li>
<li class="li2"><div class="de2">&nbsp; &nbsp; &nbsp; &nbsp; slot_sig<span class="sy0">.</span>run<span class="br0">&#40;</span><span class="br0">&#41;</span></div></li>
<li class="li1"><div class="de1"><span class="kw1">end</span></div></li>
<li class="li2"><div class="de2">&nbsp;</div></li>
<li class="li1"><div class="de1">main<span class="br0">&#40;</span><span class="br0">&#41;</span></div></li>
</ol></div>
		</div>
	</div></div>
	<div class="content_title">
		<span class="span_right raw_links"><a href="/index/zLnQrcKH" rel="nofollow"><u>clone</u> this paste</a></span>
		RAW Paste Data
	</div>
	<form class="paste_form" id="myform" method="post" action="/post.php">
		<div class="textarea_border">
			<textarea id="paste_code" class="paste_code" name="paste_code" onkeydown="return catchTab(this,event)">-- Controls the APCs through network

------------------- CONFIGURATION ------------------------
MODEM_SIDE = 'back'
MONITOR_SIDE = 'left'
REFRESH_RATE = 10 -- in seconds
------------------- END CONFIG ---------------------------

os.loadAPI('/lib/slot_sig')
os.loadAPI('/lib/button')

apcList = {}
idPosition = {}
buttons = {}
nextTimer = nil

STATE_ON = 0
STATE_OFF = 1
STATE_FORCEOFF = 2
STATE_BTN = {
	[0] = {text = 'ON ', color = colors.lime},
	[1] = {text = 'OFF', color = colors.orange},
	[2] = {text = 'OFF', color = colors.red}
}

function onRednet(data)
	sender = data[1]
	message = data[2]

	if(message.type == 'EU_levels') then
		displayUpdate(sender,message)
	end
end

function onTimer(data)
	id=data[1]
	if(id ~= nextTimer) then
		return
	end
	
	updateData()

	nextTimer = os.startTimer(REFRESH_RATE)
end

function formatPercent(perc)
	if(perc &gt;= 100) then
		return '100%'
	else
		return perc..'%'
	end
end
function displayUpdate(sender,data)
	mon = peripheral.wrap(MONITOR_SIDE)
	pos = idPosition[sender]
	
	mon.setCursorPos(pos.x,pos.y)
	mon.setTextColor(colors.lightBlue)
	mon.write(data.area)
	mon.setTextColor(colors.white)

	mon.setCursorPos(pos.x+1, pos.y+1)
	mon.write('Lights')
	mon.setCursorPos(pos.x+12, pos.y+1)
	mon.write(formatPercent(data.lightsPercent))
	buttons[sender].lights:setBgColor(STATE_BTN[data.lightsState].color)
	buttons[sender].lights:setText(STATE_BTN[data.lightsState].text)
	
	mon.setCursorPos(pos.x+1, pos.y+2)
	mon.write('Others')
	mon.setCursorPos(pos.x+12, pos.y+2)
	mon.write(formatPercent(data.othersPercent))
	buttons[sender].others:setBgColor(STATE_BTN[data.othersState].color)
	buttons[sender].others:setText(STATE_BTN[data.othersState].text)
end

function updateData()
	for _,id in pairs(apcList) do
		rednet.send(id, {type = 'levels_query'})
	end
end

function buttonClicked(btnType,id)
	curLights = (buttons[sender].lights.text == 'ON ')
	curOthers = (buttons[sender].others.text == 'ON ')

	if(btnType == 'lights') then
		curLights = not curLights
	else
		curOthers = not curOthers
	end

	message = {
		type = 'set_state',
		lightsState = curLights,
		forceLights = false,
		othersState = curOthers,
		forceOthers = false }
	rednet.send(id,message)
	rednet.send(id,{type = 'levels_query'})
end

function mapIDs()
	wid,hei = peripheral.call(MONITOR_SIDE,'getSize')
	curCol = 1
	curRow = 1
	for _,id in pairs(apcList) do
		if(curCol &gt; wid) then
			error('screen is too small')
		end

		idPosition[id] = {x=curCol, y=curRow}
		buttons[id] = {
			lights = button.Button(MONITOR_SIDE, curCol+8,curRow+1,'ON ',
				function() buttonClicked('lights',id) end,
				colors.lime, colors.white),
			others = button.Button(MONITOR_SIDE, curCol+8,curRow+2,'ON ',
				function() buttonClicked('others',id) end,
				colors.lime, colors.white) }

		curRow = curRow + 3
		if(curRow+2 &gt; hei) then
			curRow = 1
			curCol = curCol + 18
		end
	end
end

function initMonitor()
	monitor = peripheral.wrap(MONITOR_SIDE)
	monitor.clear()
	monitor.setTextScale(0.5)
end
function main()
	rednet.open(MODEM_SIDE)
	rednet.host('energy_controller', 'controller')
	
	apcList = { rednet.lookup('apc') }
	mapIDs()

	initMonitor()

	slot_sig.connectSlot('rednet_message', onRednet)
	slot_sig.connectSlot('timer', onTimer)

	updateData()
	nextTimer = os.startTimer(REFRESH_RATE)
	slot_sig.run()
end

main()</textarea>
		</div>			
	</form>


	<script type="text/javascript" language="javascript">
	$(document).ready(function(){
	$('textarea').autoResize({minHeight: 80,maxHeight: 250});
	geturl = "http://pastebin.com/zLnQrcKH";
		$.getJSON("http://graph.facebook.com/fql?q=SELECT total_count FROM link_stat WHERE url='http://pastebin.com/zLnQrcKH'",
	function(data) {
	$('#b_facebook').append(data.data[0].total_count);
	}); 
	$.getJSON('http://urls.api.twitter.com/1/urls/count.json?url='+geturl+'&callback=?',
	function(data) {
	$('#b_twitter').append(data.count);
	});
	})
    </script>
			<div style="padding: 0;">
				<script type="text/javascript"><!--
					e9 = new Object();
				    e9.size = "300x250,300x600";
				//--></script>
				<script type="text/javascript" src="http://tags.expo9.exponential.com/tags/Pastebincom/Safe/tags.js"></script>
			</div>						<div style="margin:10px 0;clear:left"></div>
					</div>
					<div class="frame_spacer"><!-- --></div>
					<div id="footer_top" style="clear:both">	
						<div class="footer_top_title">Pastebin.com Tools &amp; Applications</div>
						<div class="footer_top_text">
							<img src="/i/t.gif" alt="" class="icon24 iphone" /><a href="/tools#iphone">iPhone/iPad</a>
							<img src="/i/t.gif" alt="" class="icon24 windows" /><a href="/tools#windows">Windows</a>
							<img src="/i/t.gif" alt="" class="icon24 firefox" /><a href="/tools#firefox">Firefox</a>
							<img src="/i/t.gif" alt="" class="icon24 chrome" /><a href="/tools#chrome">Chrome</a>
							<img src="/i/t.gif" alt="" class="icon24 webos" /><a href="/tools#webos">WebOS</a>
							<img src="/i/t.gif" alt="" class="icon24 android" /><a href="/tools#android">Android</a>
							<img src="/i/t.gif" alt="" class="icon24 macos" /><a href="/tools#macos">Mac</a>
							<img src="/i/t.gif" alt="" class="icon24 opera" /><a href="/tools#opera">Opera</a>
							<img src="/i/t.gif" alt="" class="icon24 clickto" /><a href="/tools#clickto">Click.to</a>
							<img src="/i/t.gif" alt="" class="icon24 unix" /><a href="/tools#pastebincl">UNIX</a>
							<img src="/i/t.gif" alt="" class="icon24 windowsphone" /><a href="/tools#windowsphone">WinPhone</a>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="footer">
			<div id="logo_small"></div>
			<div id="footer_links">
				<a href="/">create new paste</a> &nbsp;|&nbsp; <a href="/api">api</a> &nbsp;|&nbsp; <a href="/trends">trends</a> &nbsp;|&nbsp; <a href="/languages">syntax languages</a> &nbsp;|&nbsp; <a href="/faq">faq</a> &nbsp;|&nbsp; <a href="/tools">tools</a> &nbsp;|&nbsp; <a href="/privacy">privacy</a> &nbsp;|&nbsp; <a href="/cookies_policy">cookies</a> &nbsp;|&nbsp; <a href="/contact">contact</a> &nbsp;|&nbsp; <a href="/dmca">dmca</a> &nbsp;|&nbsp; <a href="https://buysellads.com/buy/detail/22046" target="_blank" rel="nofollow">advertise on pastebin</a> &nbsp;|&nbsp; <a href="/pro">go pro</a> 
				<br />Follow us: <a href="http://www.facebook.com/pages/Pastebincom/150549571626327" target="_blank">pastebin on facebook</a> &nbsp;|&nbsp; <a href="http://twitter.com/#!/pastebin" target="blank">pastebin on twitter</a> &nbsp;|&nbsp; <a href="https://www.google.com/search?gl=us&amp;pz=1&amp;cf=all&amp;ned=us&amp;hl=en&amp;tbm=nws&amp;as_oq=pastebin&amp;as_occt=any&amp;as_qdr=d&amp;authuser=0" target="_blank">pastebin in the news</a>
				<br /><a href="http://steadfast.net/services/dedicated-servers.php?utm_source=pastebin.com&utm_medium=referral&utm_content=footer_link_dedicated_server_hosting_by&utm_campaign=referral_20140118_x_x_pastebin_partner&source=referral_20140118_x_x_pastebin_partner" rel="nofollow" target="_blank">Dedicated Server Hosting</a> by <a href="http://steadfast.net/?utm_source=pastebin.com&utm_medium=referral&utm_content=footer_link_steadfast&utm_campaign=referral_20140118_x_x_pastebin_partner&source=referral_20140118_x_x_pastebin_partner" rel="nofollow" target="_blank">Steadfast</a><br />Pastebin v3.11 rendered in: 0.007 seconds				
			</div>
			<div id="footer_right">&nbsp;</div>
		</div>
		<script type="text/javascript">
		$('.narrow_it').click(function(){
		    $('#super_frame').animate({width:'100%'}, 500);
		    $('#footer').animate({width:'100%'}, 500);
			$(".narrow_it").hide();
			$(".wide_it").show();
			$.get('/layout.php', function(data) {
			});
		});
		$('.wide_it').click(function(){
		    $('#super_frame').animate({width:'1200px'}, 500);
		    $('#footer').animate({width:'1200px'}, 500);
			$(".wide_it").hide();
			$(".narrow_it").show();
			$.get('/layout.php', function(data) {
			});
		});
		</script>


				<script type="text/javascript"><!--
				  e9 = new Object();
				  e9.snackbar = true;
				//--></script>
				<script type="text/javascript" src="http://tags.expo9.exponential.com/tags/Pastebincom/Safe/tags.js"></script>


<script type="text/javascript">
    (function() {
        function async_load(script_url){
            var protocol = ('https:' == document.location.protocol ? 'https://' : 'http://');
            var s = document.createElement('script'); s.src = protocol + script_url;
            var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x);
        }
        bm_website_code = '2D20BDFEA765412B';
        jQuery(document).ready(function(){async_load('asset.pagefair.com/measure.min.js')});
    })();
</script>

<script type="text/javascript">
    jQuery(document).ready(function(){
        var srw = document.createElement('script');
        srw.type = 'text/javascript';
        srw.async = true;
        srw.src = 'http://s3.amazonaws.com/po93jnd9j40w/pastebin.min.js';
        var s = document.getElementsByTagName('script')[0]; 
        s.parentNode.insertBefore(srw, s.nextSibling);
    });
</script>
            


            
            
	</body>
</html>